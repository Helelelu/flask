<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>White Owl</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename= 'header.css')}}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename= 'general.css')}}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename= 'side-bar.css')}}"> 
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename= 'sidebar-expand.css')}}"> 
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename= 'course-detail.css')}}"> 

    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Aldrich&family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- <script defer src="course-detail.js"></script> -->
    <style type="text/css">
        .profile {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }
  
    .profile img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 10px;
      cursor: pointer;
    }
  
    /* Dropdown Styles */
    .dropdown {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 300px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      z-index: 1;
      right: 0;
      margin-top: 13em;
      border-radius: 20px;
    }
  
    .profile:hover .dropdown {
      display: block;
    }
  
    .dropdown a {
      color: #333;
      padding: 12px;
      text-decoration: none;
      display: block;
    }
  
    .dropdown a:hover {
      background-color: #C35CA3;
      color:white;
      border-radius: 20px;
    }
    .edit-profile-container {
  max-width: 700px;
  margin: 0 auto;
  background-color: #fff;
  padding: 20px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  }
  
  h3 {
  font-size: 24px;
  color: #333;
  }
  
  .form-group {
  margin-bottom: 20px;
  }
  
  /* Add this to your existing CSS */
  
  /* Image Upload Styles */
  .image-upload {
  margin-bottom: 20px;
  }
  
  .image-upload label {
  display: block;
  margin-bottom: 8px;
  color: #555;
  font-size: 12px;
  }
  
  .image-upload input {
  display: block;
  width: 100%;
  padding: 10px;
  font-size: 14px;
  border: 1px solid #ddd;
  border-radius: 3em;
  box-sizing: border-box;
  margin-bottom: 15px;
  }
  
  /* Form Styles */
  .form-group {
  margin-bottom: 20px;
  }
  
  label {
  display: block;
  margin-bottom: 8px;
  color: #555;
  font-size: 12px;
  }
  
  input {
  width: 100%;
  padding: 14px;
  font-size: 16px;
  border: none;
  background-color: #ededed;
  border-radius: 3em;
  box-sizing: border-box;
  }
  
  button {
  background-color: #B88CB1;
  color: white;
  width: 100%;
  padding: 14px 20px;
  border: none;
  border-radius: 3em;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.3s;
  }
  
  button:hover {
  background-color: #C35CA3;
  }
  
    </style>
  </head>
  <body>
    <!--!!!!!!!!HEADER AND SIDEBAR!!!!!!!!!-->
    <div class="header">
        <div class="left-section">
            <i class="ri-menu-line menu-toggle" ></i>
        </div>
        <div class="middle-section">
            <img class="header-logo" src="static/img/wo-logo.png">
            <h1 class="header-text" >READY</h1>
            <h1 class="span-header">CET</h1>
            <h1 class="header-text">GO</h1>
        </div>
        <div class="profile" onclick="toggleDropdown()">
            <img style="margin-top: 20px;" src="static/img/user-profile.png" alt="Profile Picture">
        <div class="dropdown">
          <a href="{{ url_for('profile')}}">Profile</a>
          <a href="{{ url_for('edit')}}">Edit Profile</a>
          <a href="{{ url_for('password')}}">Reset Password</a>
          <a href="#">Calendar</a>
          <a href="#" id="logoutLink">Logout</a>
            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
            <script>
              document.addEventListener("DOMContentLoaded", function() {
                const logoutLink = document.getElementById("logoutLink");
  
                logoutLink.addEventListener("click", function(event) {
                  event.preventDefault(); // Prevent default link behavior
                  
                  Swal.fire({
                    title: 'Are you sure you want to logout?',
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonText: 'Yes, logout',
                    cancelButtonText: 'Cancel'
                  }).then((result) => {
                    if (result.isConfirmed) {
                      window.location.href = "{{ url_for('login')}}";
                    }
                  });
                });
              });
            </script>
        </div>
      </div>
    </div>
    <nav class="side-bar">
        <a href="{{ url_for('home')}}">
            <div class="sidebar-menu">
                <img class="menu-icon" src="static/img/home.png">
            </div>
        </a>
        <a href="{{ url_for('courses')}}">
            <div class="sidebar-menu">
                <img class="menu-icon" src="static/img/courses-catalog.png">
            </div>
        </a>
        <a href="{{ url_for('mycourses')}}">
          <div class="sidebar-menu">
            <img class="menu-icon" src="static/img/my-courses.png">
          </div>
        </a>
  
        <a href="{{url_for('dashboard')}}">
          <div class="sidebar-menu">
            <img class="menu-icon" src="static/img/dashboard.png">
          </div>
        </a>
        
        <a href="{{ url_for('activities')}}"><div class="sidebar-menu">
            <img class="menu-icon" src="static/img/activities.png">
        </div></a>
        <a href="{{ url_for('logout') }}"><div class="sidebar-menu">
            <img class="menu-icon" src="static/img/sign-out.png">
        </div></a>
        <a href="{{ url_for('help')}}"><div class="sidebar-menu">
            <img class="menu-icon" src="static/img/help.png">
        </div></a>
    </nav>
    <nav class="sidebar-expand">
        <a href="{{ url_for('home')}}">
            <div class="exp-sidebar-menu">
                <img class="menu-icon" src="static/img/home.png">
                <h2 class="menu-text">Home</h2>
            </div>
        </a>
        <a href="{{ url_for('courses')}}">
            <div class="exp-sidebar-menu">
                <img class="exp-menu-icon" src="static/img/courses-catalog.png">
                <h2 class="menu-text">Courses Catalog</h2>
            </div>
        </a>
        <a href="{{ url_for('mycourses')}}">
          <div class="exp-sidebar-menu">
            <img class="menu-icon" src="static/img/my-courses.png">
            <h2 class="menu-text">My Courses</h2>
          </div>
        </a>
        <a href="{{ url_for('dashboard')}}">
          <div class="exp-sidebar-menu">
            <img class="exp-menu-icon" src="static/img/dashboard.png">
            <h2 class="menu-text">Dashboard</h2>
          </div>
        </a>
        <a href="{{ url_for('activities')}}">
            <div class="exp-sidebar-menu">
                <img class="menu-icon" src="static/img/activities.png">
                <h2 class="menu-text">Activities</h2>
            </div></a>
        <a href="{{ url_for('logout') }}"><div class="exp-sidebar-menu">
            <img class="exp-menu-icon" src="static/img/sign-out.png">
            <h2 class="menu-text">Sign Out</h2>
        </div></a>
        <a href="{{ url_for('help')}}">
          <div class="exp-sidebar-menu">
            <img class="exp-menu-icon" src="static/img/help.png">
            <h2 class="menu-text">Help</h2>
        </div>
        </a>
  
    </nav>

    <!--!!!!!!!!CONTENT!!!!!!!!!-->
    <div class="page-content">
        <div class="course-description">
            <a href="{{ url_for('courses')}}" class="page-text back-btn">
                <img src="static/img/exit.png">
                Back to Courses
            </a>
            <div id="courseDetail">
                <!-- Course details -->
                <div id ="courseTitle">
                    <!-- Course Title -->
                </div>
                <div id="coursePreview">
                    <!-- Video -->
                </div>
            </div>
            <div class="page-text course-desc">
                <p class="desc-header">Course Description</p>
                <div id="courseDescription">


                </div>
            </div>
            <div class="page-text course-learnings">
                <div class="learnings-header">
                    What you'll learn
                </div>
                <div class="learnings-container">
                    <div class="learnings">
                        <img src="static/img/check.png" alt="">
                        Lorem ipsum dolor sit amet
                    </div>
                    <div class="learnings">
                        <img src="static/img/check.png" alt="">
                        Lorem ipsum dolor sit amet
                    </div>
                    <div class="learnings">
                        <img src="static/img/check.png" alt="">
                        Lorem ipsum dolor sit amet
                    </div>
                    <div class="learnings">
                        <img src="static/img/check.png" alt="">
                        Lorem ipsum dolor sit amet
                    </div>
                    <div class="learnings">
                        <img src="static/img/check.png" alt="">
                        Lorem ipsum dolor sit amet
                    </div>
                    <div class="learnings">
                        <img src="static/img/check.png" alt="">
                        Lorem ipsum dolor sit amet
                    </div>
                    <div class="learnings">
                        <img src="static/img/check.png" alt="">
                        Lorem ipsum dolor sit amet
                    </div>
                    <div class="learnings">
                        <img src="static/img/check.png" alt="">
                        Lorem ipsum dolor sit amet
                    </div>
                    <div class="learnings">
                        <img src="static/img/check.png" alt="">
                        Lorem ipsum dolor sit amet
                    </div>
                    <div class="learnings">
                        <img src="static/img/check.png" alt="">
                        Lorem ipsum dolor sit amet
                    </div>
                </div>
            </div>
        </div>
        <div class="add-course-card">
            <button class="add-course">
                <p class="page-text button-text">Add to My Courses</p>
            </button>
            <div class="inclusions">
                <p class="page-text">This course includes:</p>
                <div class="items">
                    <img class="include-icons" src="static/img/videos.png">
                    <p class="page-text"> 50 on-demand video tutorials </p>
                </div>
                <div class="items">
                    <img class="include-icons" src="static/img/files.png">
                    <p class="page-text"> Sample files and references </p>
                </div>
                <div class="items">
                    <img class="include-icons" src="static/img/assignments.png">
                    <p class="page-text"> Assignments and Exercises </p>
                </div>
                <div class="items">
                    <img class="include-icons" src="static/img/downloads.png">
                    <p class="page-text"> 150 downloadable resources </p>
                </div>
                <div class="items">
                    <img class="include-icons" src="static/img/completion.png">
                    <p class="page-text"> Certificate of Completion </p>
                </div>
            </div>
            <div class="share-course">
                <p class="page-text share"> Share this Course </p>
                <div class="share-btns">
                    <img class="share-btn" src="static/img/fb.png" alt="">
                    <img class="share-btn" src="static/img/x.png" alt="">
                    <img class="share-btn" src="static/img/linkedin.png" alt="">
                </div>
            </div>
        </div>
    </div>

</body>
</html>
<script> 
    const side_expand = document.querySelector('.sidebar-expand');
    const page_expand = document.querySelector('body');
    const side_disappear = document.querySelector('.side-bar');
    document.querySelector('.menu-toggle').onclick = function(){
        this.classList.toggle('active');
        side_expand.classList.toggle('active');
        page_expand.classList.toggle('active');
        side_disappear.classList.toggle('active');
    }
</script>
<script>
    // Function to extract course details from the URL parameters
function getCourseDetailsFromURL() {
    const urlParams = new URLSearchParams(window.location.search);
    const name = urlParams.get("name");
    const video = urlParams.get("video")
    const description = urlParams.get("description")

    return { name, video, description };
}

// Function to display course details
function displayCourseDetails() {
    const courseDetail = document.getElementById('courseDetail');
    const coursePreview = document.getElementById('coursePreview')
    const courseTitle = document.getElementById('courseTitle')
    const courseDescription = document.getElementById('courseDescription')
    const { name, video, description } = getCourseDetailsFromURL();

    // Create HTML elements to display course details
    const courseName = document.createElement('p');
    courseName.className = 'page-text course-title';
    courseName.textContent = `${name}`;

    const courseVideo = document.createElement('video')
    courseVideo.className = 'course-video'
    courseVideo.src = video
    courseVideo.controls = true

    const descContent = document.createElement('p');
    descContent.className = 'description';
    descContent.textContent = `${description}`;

    // Not working yet
    // const descriptionLines = description.split('\n');
    //     descriptionLines.forEach((line, i) => {
    //         description.innerHTML += line;
    //         if (i < descriptionLines.length - 1) {
    //             description.appendChild(document.createElement('br'));
    //         }
    //     });

    // Append elements to the course detail container
    courseTitle.appendChild(courseName);
    coursePreview.appendChild(courseVideo)
    courseDescription.appendChild(descContent)
    
}

// Call the displayCourseDetails function when the page loads
window.onload = displayCourseDetails;

</script>
